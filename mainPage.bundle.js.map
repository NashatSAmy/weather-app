{"version":3,"file":"mainPage.bundle.js","mappings":";;;;;;;;AAAA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,OAAO,KAAK,SAAS;AAC7E,QAAQ;AACR;AACA;AACA,uDAAuD,OAAO,KAAK,SAAS;AAC5E,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0BAA0B;AACvD;AACA,KAAK;AACL,yBAAyB;AACzB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,0CAA0C;AACrE,0BAA0B,yCAAyC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA","sources":["webpack://weather-app/./src/main.js"],"sourcesContent":["const button = document.getElementById('getWeather');\r\nconst controls = [...document.getElementsByClassName('mC')];\r\nlet cMS = document.getElementsByClassName('active')[0].id; // Current Measurements System\r\nconst mS = {\r\n  // Measurements Systems\r\n  c: {\r\n    current: 'temp_c',\r\n    high: 'maxtemp_c',\r\n    low: 'mintemp_c',\r\n    wind: 'avgvis_km',\r\n    rain: 'totalprecip_mm',\r\n  },\r\n  f: {\r\n    current: 'temp_f',\r\n    high: 'maxtemp_f',\r\n    low: 'mintemp_f',\r\n    wind: 'avgvis_miles',\r\n    rain: 'totalprecip_in',\r\n  },\r\n};\r\n// Gets the user's desired location.\r\nconst userLocation = () => {\r\n  const userInput = document.querySelector('input').value;\r\n  return userInput;\r\n};\r\n\r\n// Changes measurements system.\r\nconst changeMeasurementsSys = (e) => {\r\n  if (!e.target.classList.contains('mC')) return;\r\n  controls.forEach((control) => control.classList.remove('active'));\r\n  e.target.classList.contains('mC') ? e.target.classList.add('active') : '';\r\n  cMS = e.target.id;\r\n};\r\n\r\n// Gets weather forecast form the Weather API.\r\nconst getWeather = async (location) => {\r\n  const apiKey = 'de8560be89504a5ab53162917230907';\r\n\r\n  const [forecast, weatherLocation] = await Promise.all([\r\n    fetch(\r\n      `http://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${location}&days=3&aqi=no&alerts=no`,\r\n      { mode: 'cors' }\r\n    ),\r\n    fetch(\r\n      `http://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${location}&aqi=no`,\r\n      { mode: 'cors' }\r\n    ),\r\n  ]);\r\n\r\n  let weather = await forecast.json();\r\n  let place = await weatherLocation.json();\r\n\r\n  return [weather.forecast.forecastday, place];\r\n};\r\n\r\n// Updates the weather cards on the user's screen.\r\nconst updateCards = async () => {\r\n  let forecast = await getWeather(userLocation());\r\n  const days = [...document.getElementsByClassName('day')];\r\n  let currentDay = 0;\r\n  console.log(cMS);\r\n  days.forEach((day) => {\r\n    day.innerHTML = `\r\n    <span class=\"location\">${forecast[1].location.name}, ${\r\n      forecast[1].location.country\r\n    }</span>\r\n    <span class=\"time\">${new Date(\r\n      forecast[0][currentDay].date\r\n    ).toDateString()}</span>\r\n    <div class=\"temp\">\r\n      ${\r\n        currentDay == 0\r\n          ? `<span class=\"current\">${\r\n              forecast[1].current[mS[cMS].current]\r\n            }</span>`\r\n          : ''\r\n      }\r\n      <span class=\"high\">${forecast[0][currentDay].day[mS[cMS].high]}</span>\r\n      <span class=\"low\">${forecast[0][currentDay].day[mS[cMS].low]}</span>\r\n    </div>\r\n    <div class=\"condition\">\r\n      <span class=\"conditionText\">${\r\n        currentDay == 0\r\n          ? forecast[1].current.condition.text\r\n          : forecast[0][currentDay].day.condition.text\r\n      }</span>\r\n      <img src=\"https:${\r\n        currentDay == 0\r\n          ? forecast[1].current.condition.icon\r\n          : forecast[0][currentDay].day.condition.icon\r\n      }\">\r\n    </div>\r\n    <div class=\"wind\">\r\n      <span class=\"windSpeed\">${\r\n        forecast[0][currentDay].day[mS[cMS].wind]\r\n      }</span>\r\n      <img src=\"https://i.ibb.co/ZBvYD8V/wind.png\">\r\n    </div>\r\n    <div class=\"precip\">\r\n      <span class=\"precipText\">${\r\n        forecast[0][currentDay].day[mS[cMS].rain]\r\n      } </span>\r\n      <img src=\"https://i.ibb.co/PM288gs/precipitation.png\">\r\n    </div>\r\n    <div class=\"humidity\">\r\n      <span class=\"humidityText\">${\r\n        forecast[0][currentDay].day.avghumidity\r\n      }</span>\r\n      <img src=\"https://i.ibb.co/JqY4VRB/humidity.png\">\r\n    </div>\r\n    `;\r\n    currentDay++;\r\n  });\r\n};\r\n\r\nbutton.addEventListener('click', updateCards);\r\ncontrols.forEach((control) =>\r\n  control.addEventListener('click', changeMeasurementsSys)\r\n);\r\n"],"names":[],"sourceRoot":""}